@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {

    /* LIGHT MODE (Default) - Engineering console in daylight */
    :root {
        /* Core Backgrounds - Pure white with light gray surfaces */
        --background: 0 0% 100%;
        --background-elevated: 220 14% 96%;
        --background-surface: 220 13% 93%;

        /* Foreground - Near black technical text */
        --foreground: 220 20% 10%;
        --foreground-muted: 220 10% 40%;
        --foreground-subtle: 220 8% 55%;

        /* Card & Popover */
        --card: 0 0% 100%;
        --card-foreground: 220 20% 10%;
        --popover: 0 0% 100%;
        --popover-foreground: 220 20% 10%;

        /* Primary - Magenta (Critical Actions) */
        --primary: 318 93% 47%;
        --primary-foreground: 0 0% 100%;
        --primary-glow: 318 93% 47%;

        /* Secondary - Lime (Data Emphasis) */
        --secondary: 67 100% 38%;
        --secondary-foreground: 0 0% 100%;

        /* Accent - For highlights */
        --accent: 67 100% 38%;
        --accent-foreground: 0 0% 100%;

        /* Success - Network Health */
        --success: 135 68% 40%;
        --success-foreground: 0 0% 100%;

        /* Muted */
        --muted: 220 14% 90%;
        --muted-foreground: 220 10% 45%;

        /* Destructive */
        --destructive: 318 93% 47%;
        --destructive-foreground: 0 0% 100%;

        /* Border & Input */
        --border: 220 13% 85%;
        --border-subtle: 220 10% 90%;
        --input: 220 13% 91%;
        --ring: 318 93% 47%;

        /* Radius - Sharp edges */
        --radius: 0.125rem;

        /* Sidebar */
        --sidebar-background: 220 14% 96%;
        --sidebar-foreground: 220 20% 25%;
        --sidebar-primary: 318 93% 47%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 67 100% 38%;
        --sidebar-accent-foreground: 0 0% 100%;
        --sidebar-border: 220 13% 88%;
        --sidebar-ring: 318 93% 47%;
    }

    /* DARK MODE - Infrastructure grade */
    .dark {
        /* Core Backgrounds */
        --background: 78 58% 9%;
        --background-elevated: 78 50% 11%;
        --background-surface: 78 45% 13%;

        /* Foreground */
        --foreground: 75 20% 85%;
        --foreground-muted: 75 15% 55%;
        --foreground-subtle: 75 10% 40%;

        /* Card & Popover */
        --card: 78 45% 11%;
        --card-foreground: 75 20% 85%;
        --popover: 78 50% 10%;
        --popover-foreground: 75 20% 85%;

        /* Primary - Magenta (Critical Actions) */
        --primary: 318 93% 47%;
        --primary-foreground: 0 0% 100%;
        --primary-glow: 318 93% 47%;

        /* Secondary - Lime (Data Emphasis) */
        --secondary: 67 100% 45%;
        --secondary-foreground: 78 58% 9%;

        /* Accent - For highlights */
        --accent: 67 100% 45%;
        --accent-foreground: 78 58% 9%;

        /* Success - Network Health */
        --success: 135 68% 53%;
        --success-foreground: 78 58% 9%;

        /* Muted */
        --muted: 78 30% 18%;
        --muted-foreground: 75 15% 55%;

        /* Destructive */
        --destructive: 318 93% 47%;
        --destructive-foreground: 0 0% 100%;

        /* Border & Input */
        --border: 78 30% 20%;
        --border-subtle: 78 20% 16%;
        --input: 78 30% 15%;
        --ring: 318 93% 47%;

        /* Sidebar */
        --sidebar-background: 78 50% 8%;
        --sidebar-foreground: 75 20% 75%;
        --sidebar-primary: 318 93% 47%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 67 100% 45%;
        --sidebar-accent-foreground: 78 58% 9%;
        --sidebar-border: 78 30% 18%;
        --sidebar-ring: 318 93% 47%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground antialiased;
        font-family: 'Space Grotesk', sans-serif;
    }

    /* Grid texture overlay - adapts to theme */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
        background-image:
            linear-gradient(hsl(var(--border) / 0.3) 1px, transparent 1px),
            linear-gradient(90deg, hsl(var(--border) / 0.3) 1px, transparent 1px);
        background-size: 40px 40px;
    }

    .dark body::before {
        background-image:
            linear-gradient(hsl(var(--border-subtle) / 0.15) 1px, transparent 1px),
            linear-gradient(90deg, hsl(var(--border-subtle) / 0.15) 1px, transparent 1px);
    }
}

@layer components {

    /* Data display typography */
    .font-mono-data {
        font-family: 'JetBrains Mono', monospace;
        font-feature-settings: 'tnum' on, 'lnum' on;
    }

    /* Glow effects - more subtle in light mode */
    .glow-primary {
        box-shadow: 0 0 20px hsl(var(--primary) / 0.2),
            0 0 40px hsl(var(--primary) / 0.1);
    }

    .dark .glow-primary {
        box-shadow: 0 0 20px hsl(var(--primary) / 0.3),
            0 0 40px hsl(var(--primary) / 0.15);
    }

    .glow-secondary {
        box-shadow: 0 0 20px hsl(var(--secondary) / 0.2),
            0 0 40px hsl(var(--secondary) / 0.1);
    }

    .dark .glow-secondary {
        box-shadow: 0 0 20px hsl(var(--secondary) / 0.3),
            0 0 40px hsl(var(--secondary) / 0.15);
    }

    .glow-success {
        box-shadow: 0 0 10px hsl(var(--success) / 0.3);
    }

    .dark .glow-success {
        box-shadow: 0 0 15px hsl(var(--success) / 0.4);
    }

    /* Scan line animation */
    .scan-line {
        position: relative;
        overflow: hidden;
    }

    .scan-line::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg,
                transparent,
                hsl(var(--secondary) / 0.6),
                transparent);
        animation: scan 2s linear infinite;
    }

    @keyframes scan {
        0% {
            left: -100%;
        }

        100% {
            left: 100%;
        }
    }

    /* Pulse animation for live indicators */
    .pulse-live {
        animation: pulse-live 2s ease-in-out infinite;
    }

    @keyframes pulse-live {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }

    /* Data rail styling */
    .data-rail {
        @apply border-l-2 border-border pl-3 py-2;
    }

    .data-rail:hover {
        @apply border-l-primary;
    }

    /* Status indicators */
    .status-dot {
        @apply w-2 h-2 rounded-full;
    }

    .status-dot-live {
        @apply bg-success;
        box-shadow: 0 0 8px hsl(var(--success) / 0.6);
        animation: pulse-glow 1.5s ease-in-out infinite;
    }

    @keyframes pulse-glow {

        0%,
        100% {
            box-shadow: 0 0 8px hsl(var(--success) / 0.6);
        }

        50% {
            box-shadow: 0 0 16px hsl(var(--success) / 0.8);
        }
    }

    /* Navigation styles */
    .nav-item {
        @apply relative flex items-center gap-3 px-3 py-2.5 text-foreground-muted transition-all duration-200 border-l-2 border-transparent;
    }

    .nav-item:hover {
        @apply text-foreground bg-muted/50 border-l-secondary;
    }

    .nav-item.active {
        @apply text-primary border-l-primary bg-primary/5;
    }

    /* Block node styling */
    .block-node {
        @apply relative bg-background-surface border border-border p-3 transition-all duration-200;
    }

    .block-node:hover {
        @apply border-secondary;
        box-shadow: 0 0 15px hsl(var(--secondary) / 0.1);
    }

    .dark .block-node:hover {
        box-shadow: 0 0 20px hsl(var(--secondary) / 0.15);
    }

    .block-node::before {
        content: '';
        @apply absolute left-1/2 -translate-x-1/2 w-px bg-border;
        top: -16px;
        height: 16px;
    }

    .block-node:first-child::before {
        display: none;
    }

    /* Host rail */
    .host-rail {
        @apply bg-background-surface border border-border p-4 transition-all duration-200 cursor-pointer;
    }

    .host-rail:hover {
        @apply border-primary bg-primary/5;
    }

    /* Metric card */
    .metric-card {
        @apply bg-background-surface/50 border border-border-subtle p-4 backdrop-blur-sm;
    }

    /* Chart container */
    .chart-container {
        @apply bg-background-elevated/50 border border-border-subtle p-4;
    }

    /* Search input - technical monospace style */
    .search-input {
        @apply w-full bg-background border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-foreground-subtle focus:outline-none focus:border-secondary focus:ring-1 focus:ring-secondary/20 transition-all;
    }

    .search-input::placeholder {
        @apply font-mono text-xs;
    }

    /* Block preview card */
    .block-preview {
        @apply bg-background-surface border border-border p-3 cursor-pointer transition-all duration-200;
    }

    .block-preview:hover {
        @apply border-secondary bg-secondary/5;
    }

    .block-preview.active {
        @apply border-primary bg-primary/5;
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-background;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-muted rounded-none;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-muted-foreground;
    }
}

@layer utilities {
    .text-gradient-primary {
        @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent;
    }

    .border-gradient {
        border-image: linear-gradient(to right,
                hsl(var(--primary)),
                hsl(var(--secondary))) 1;
    }

    .bg-elevated {
        background-color: hsl(var(--background-elevated));
    }

    .bg-surface {
        background-color: hsl(var(--background-surface));
    }

    .text-data {
        @apply font-mono-data text-secondary;
    }

    .text-muted-data {
        @apply font-mono-data text-foreground-muted;
    }
}